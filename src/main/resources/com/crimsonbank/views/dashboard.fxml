<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.crimsonbank.controllers.DashboardController">

    <top>
        <VBox style="-fx-background-color: #1e3a5f; -fx-padding: 15px;">
            <HBox alignment="CENTER_LEFT" spacing="20">
                <Label text="CrimsonBank Dashboard"
                       style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: white;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button fx:id="logoutButton"
                        text="Logout"
                        styleClass="button-danger"
                        style="-fx-padding: 8px 15px;"/>
            </HBox>
        </VBox>
    </top>

    <left>
        <VBox spacing="10"
              style="-fx-background-color: #f5f5f5; -fx-padding: 20px; -fx-border-color: #ddd; -fx-border-width: 0 1 0 0; -fx-min-width: 200;"
              prefWidth="200">

            <Label text="Navigation"
                   style="-fx-font-size: 14; -fx-font-weight: bold; -fx-text-fill: #1e3a5f;"/>
            <Separator/>

            <Button fx:id="dashboardBtn"
                    text="Dashboard"
                    style="-fx-alignment: CENTER_LEFT; -fx-padding: 10px;"
                    minWidth="180"/>
            <Button fx:id="customerBtn"
                    text="Customers"
                    style="-fx-alignment: CENTER_LEFT; -fx-padding: 10px;"
                    minWidth="180"/>
            <Button fx:id="accountBtn"
                    text="Accounts"
                    style="-fx-alignment: CENTER_LEFT; -fx-padding: 10px;"
                    minWidth="180"/>
            <Button fx:id="transactionBtn"
                    text="Transactions"
                    style="-fx-alignment: CENTER_LEFT; -fx-padding: 10px;"
                    minWidth="180"/>
            <Button fx:id="historyBtn"
                    text="History"
                    style="-fx-alignment: CENTER_LEFT; -fx-padding: 10px;"
                    minWidth="180"/>
            <Button fx:id="loanBtn"
                    text="Loans"
                    style="-fx-alignment: CENTER_LEFT; -fx-padding: 10px;"
                    minWidth="180"/>
            <Button fx:id="reportBtn"
                    text="Reports"
                    style="-fx-alignment: CENTER_LEFT; -fx-padding: 10px;"
                    minWidth="180"/>
            <Button fx:id="auditBtn"
                    text="Audit Log"
                    style="-fx-alignment: CENTER_LEFT; -fx-padding: 10px;"
                    minWidth="180"/>

            <Region VBox.vgrow="ALWAYS"/>
        </VBox>
    </left>

    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true">
            <VBox spacing="20" style="-fx-padding: 30px;">

                <HBox spacing="20">
                    <VBox spacing="5" styleClass="card" prefWidth="200" prefHeight="120">
                        <Label text="Total Customers"
                               styleClass="label-subheading"
                               style="-fx-font-size: 14;"/>
                        <Label fx:id="totalCustomersLabel"
                               text="0"
                               style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #1e3a5f;"/>
                    </VBox>

                    <VBox spacing="5" styleClass="card" prefWidth="200" prefHeight="120">
                        <Label text="Total Accounts"
                               styleClass="label-subheading"
                               style="-fx-font-size: 14;"/>
                        <Label fx:id="totalAccountsLabel"
                               text="0"
                               style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #1e3a5f;"/>
                    </VBox>

                    <VBox spacing="5" styleClass="card" prefWidth="200" prefHeight="120">
                        <Label text="Total Transactions"
                               styleClass="label-subheading"
                               style="-fx-font-size: 14;"/>
                        <Label fx:id="totalTransactionsLabel"
                               text="0"
                               style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #1e3a5f;"/>
                    </VBox>

                    <VBox spacing="5" styleClass="card" prefWidth="200" prefHeight="120">
                        <Label text="Pending Loans"
                               styleClass="label-subheading"
                               style="-fx-font-size: 14;"/>
                        <Label fx:id="pendingLoansLabel"
                               text="0"
                               style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: #f39c12;"/>
                    </VBox>
                </HBox>

                <VBox spacing="10" styleClass="card">
                    <Label text="Quick Actions" styleClass="label-subheading"/>
                    <HBox spacing="10">
                        <Button fx:id="quickAddCustomerButton" text="Add Customer"
                                onAction="#handleQuickAddCustomer"
                                styleClass="button-primary"
                                style="-fx-padding: 10px 20px;"/>
                        <Button fx:id="quickCreateAccountButton" text="Create Account"
                                onAction="#handleQuickCreateAccount"
                                styleClass="button-primary"
                                style="-fx-padding: 10px 20px;"/>
                        <Button fx:id="quickNewTransactionButton" text="New Transaction"
                                onAction="#handleQuickNewTransaction"
                                styleClass="button-primary"
                                style="-fx-padding: 10px 20px;"/>
                    </HBox>
                </VBox>

                <VBox spacing="10" styleClass="card">
                    <Label text="System Status" styleClass="label-subheading"/>
                    <HBox spacing="20">
                        <VBox spacing="5">
                            <Label text="Database Connection" styleClass="label"/>
                            <Label fx:id="dbStatusLabel"
                                   text="Connected"
                                   style="-fx-text-fill: #27ae60; -fx-font-weight: bold;"/>
                        </VBox>
                        <VBox spacing="5">
                            <Label text="Last Updated" styleClass="label"/>
                            <Label fx:id="lastUpdatedLabel"
                                   text="Just now"
                                   style="-fx-text-fill: #666;"/>
                        </VBox>
                    </HBox>
                </VBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>


